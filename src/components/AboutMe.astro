---
import { FaLinkedin, FaMedium, FaGithub } from "react-icons/fa";

const socialLinks = [
    {
        name: "GitHub",
        href: "https://github.com/tridims",
        icon: FaGithub,
        handle: "@tridims",
    },
    {
        name: "LinkedIn",
        href: "https://linkedin.com/in/dimastrim",
        icon: FaLinkedin,
        handle: "@dimastrim",
    },
    {
        name: "Medium",
        href: "https://medium.com/@tridims",
        icon: FaMedium,
        handle: "@tridims",
    },
];

const linkedIn = socialLinks.find((link) => link.name === "LinkedIn");

const otherLinks = socialLinks.filter((link) => link.name !== "LinkedIn");
const generalHandle = "@tridims"; // Change this to your preferred general handle
---

<div class="flex flex-col md:flex-row items-center gap-4 mb-4 top-20">
    <img
        src="/images/cat.jpeg"
        alt="Dimas Tri Mustakim"
        class="w-20 h-20 sm:w-26 sm:h-26 rounded-3xl object-cover flex-shrink-0"
    />
    <div class="text-center sm:text-left">
        <p class="text-sm sm:text-lg text-primary-background">
            Software Engineer, Toolmaker, Homelab Enthusiast
        </p>
    </div>
</div>

<a
    href="/about"
    class="inline-block w-full text-center border border-neutral-700 rounded-lg px-4 py-2 text-sm text-foreground hover:bg-popover transition-colors mb-8"
>
    About Me &rarr;
</a>

<h3 class="font-semibold text-foreground mb-4 md:block hidden">Follow</h3>
<div
    class="flex flex-col items-center border border-neutral-700 rounded-2xl p-4 sm:p-8 shadow-lg"
>
    <!-- Top Row: LinkedIn -->
    {
        linkedIn &&
            (() => {
                const Icon = linkedIn.icon;

                return (
                    <a
                        href={linkedIn.href}
                        target="_blank"
                        rel="noopener noreferrer"
                        class="flex items-center gap-3 sm:gap-4 mb-6 sm:mb-8 text-foreground hover:text-popover transition-colors"
                    >
                        <Icon className="text-3xl sm:text-4xl flex-shrink-0" />
                        <span class="font-sans text-base sm:text-xl font-medium tracking-tight truncate">
                            {linkedIn.handle}
                        </span>
                    </a>
                );
            })
    }

    <!-- Middle Row: Other Social Icons -->
    <div class="flex flex-wrap items-center gap-3 sm:gap-5">
        {
            otherLinks.map(({ href, icon: Icon }) => (
                <a
                    href={href}
                    target="_blank"
                    rel="noopener noreferrer"
                    class="text-foreground hover:text-popover transition-colors flex-shrink-0"
                >
                    <Icon className="text-2xl sm:text-3xl" />
                </a>
            ))
        }

        <span class="text-foreground text-sm ml-0 font-medium truncate">
            {generalHandle}
        </span>
    </div>
</div>
